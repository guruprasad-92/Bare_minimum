<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAMV71 Xplained Ultra Software Package: USB CDC(Serial)+Audio(Speaker) Example</title>
<link href="common/style.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
    <div id="body">
        <div id="title">  SAMV71 Xplained Ultra Software Package 1.5</div>
        <div id="banner"></div>

<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="page_examples.html">Examples for SAMV7 Xplained</a>      </li>
      <li><a class="el" href="page_examples_usb.html">USB Examples</a>      </li>
      <li><a class="el" href="page_examples_usb_device.html">USB Device Examples</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>USB CDC(Serial)+Audio(Speaker) Example </h1>  </div>
</div>
<div class="contents">
<h2><a class="anchor" id="Purpose"></a>
Purpose</h2>
<p>The Example will help you to get familiar with the USB Framework that is used for rapid development of USB-compliant class drivers such as USB Composite device that integrates a CDC Virtual Serial Port Function and an Audio Speaker Function.</p>
<h2><a class="anchor" id="Requirements"></a>
Requirements</h2>
<p>This package can be used with SAM V71 Xplained Ultra board that have UDP and SSC.</p>
<h2><a class="anchor" id="win_drv_update"></a>
Windows Driver Update</h2>
<p>The composite device is generally supported by Microsoft windows, but some patches are needed for muti-interface functions such as CDC &amp; Audio.</p>
<h2><a class="anchor" id="Description"></a>
Description</h2>
<p>When the board running this program connected to a host (PC for example), with USB cable, host will notice the attachment of a USB device (USB Composite Device) with a USB Virtual COM port(AT91 USB to Serial Converter) and a USB Audio Device.</p>
<h2><a class="anchor" id="Usage"></a>
Usage</h2>
<ol type="1">
<li>Build the program and download it inside the SAM V71 Xplained Ultra board. Please refer to the Getting Started with SAM V71 Microcontrollers.pdf</li>
<li>On the computer, open and configure a terminal application (e.g. HyperTerminal on Microsoft Windows) with these settings:<ul>
<li>115200 bauds</li>
<li>8 bits of data</li>
<li>No parity</li>
<li>1 stop bit</li>
<li>No flow control</li>
</ul>
</li>
<li>Start the application.</li>
<li>In the terminal window, the following text should appear: <div class="fragment"><pre class="fragment">  -- USB CDC + Audio Device Example xxx --
  -- SAMxxxxx-xx
  -- Compiled: xxx xx xxxx xx:xx:xx --
</pre></div></li>
<li>When connecting USB cable to windows, the LED blinks, and the host reports a new USB device attachment (if it's the first time you connect an audio speaker demo board to your host). You can find new "USB Composite Device" and "USB Audio Device" appear in the hardware device list.</li>
<li>You can play sound in host side through the USB Audio Device, and it can be heard from the earphone connected to the board.</li>
</ol>
<h2><a class="anchor" id="References"></a>
References</h2>
<ul>
<li><a class="el" href="examples__usb_2device__examples_2usb__iad__cdc__aud_2main_8c.html">usb_iad_cdc_aud/main.c</a></li>
<li>pio: <a class="el" href="struct_pin.html">Pin</a> configurations and peripheral configure.</li>
<li>dacc: DACC interface driver</li>
<li>adc: ADC interface driver</li>
<li>usb: USB Framework, CDC, Audio function driver and UDP interface driver<ul>
<li>usbd_framework<ul>
<li><a class="el" href="usbd_api.html">USBD API</a></li>
</ul>
</li>
<li>composite<ul>
<li><a class="el" href="usbd_composite_drv.html">USB Composite Devices Drivers</a></li>
</ul>
</li>
<li><a class="el" href="group__usbd__cdc.html">cdc-serial</a><ul>
<li><a class="el" href="usbd_cdc_serial_drv.html">USB Device CDC Serial Driver</a></li>
</ul>
</li>
<li>audio<ul>
<li><a class="el" href="usbd_audio_rec_drv.html">USB Device Audio Recorder</a></li>
</ul>
</li>
</ul>
</li>
<li>projects: more detailed information for CDC(Serial) and Audio(Speaker)<ul>
<li><a class="el" href="usb_core.html">USB Device Enumeration Example</a></li>
<li>usb_cdc_serial</li>
<li><a class="el" href="usb_audio_speaker.html">USB Audio Speaker Example</a>, usb_audio_headphone </li>
</ul>
</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
